<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ピアノタイピングゲーム</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- オープニングセクション -->
    <section id="opening-section" class="container card card-body mt-4">
        <!-- セクションタイトル -->
        <h2>ピアノでタイピング♪</h2>

        <!-- ゲームモード選択用フィールドセット -->
        <fieldset id="game-mode-selecter" class="p-3">
            <legend>モードを選んでね！</legend>
            <!-- ラジオボタンをグループ化。各ボタンにdata-detail-target属性を追加 -->
            <div class="btn-group d-flex" role="group" aria-label="ゲームモードを選択">
                <!-- 音名モード用ラジオボタン。data-detail-target="game-mode-details-1"とし、対応する詳細要素はdata-detail-name="game-mode-details-1" -->
                <input type="radio" class="btn-check" name="game-mode" id="game-mode-selecter-1" autocomplete="off"
                    checked data-detail-target="game-mode-details-1">
                <label class="btn btn-outline-primary flex-fill" for="game-mode-selecter-1">音名モード</label>
        
                <!-- 譜読みモード用ラジオボタン。data-detail-target="game-mode-details-2"とし、対応する詳細要素はdata-detail-name="game-mode-details-2" -->
                <input type="radio" class="btn-check" name="game-mode" id="game-mode-selecter-2" autocomplete="off"
                    data-detail-target="game-mode-details-2">
                <label class="btn btn-outline-primary flex-fill" for="game-mode-selecter-2">譜読みモード</label>
        
                <!-- 聴音モード用ラジオボタン。data-detail-target="game-mode-details-3"とし、対応する詳細要素はdata-detail-name="game-mode-details-3" -->
                <input type="radio" class="btn-check" name="game-mode" id="game-mode-selecter-3" autocomplete="off"
                    data-detail-target="game-mode-details-3">
                <label class="btn btn-outline-primary flex-fill" for="game-mode-selecter-3">聴音モード</label>
            </div>
        </fieldset>
        
        <!-- 音名モードの詳細 -->
        <div id="game-mode-details">
            <div data-detail-name="game-mode-details-1" class="card card-body">
                <h3>音名モードとは？</h3>
                <p>
                    表示された音名に対応する鍵盤を答えるゲームです。<br>
                    日本語、英語、ドイツ語から音名を選べます。
                </p>
                <h3>詳細設定</h3>
                <fieldset class="p-3">
                    <legend>音名タイプ</legend>
                    <div class="ms-5">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="langage-select-1"
                                id="langage-select-japanese-1" value="japanese" checked>
                            <label class="form-check-label" for="japanese-1">
                                日本音名
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="langage-select-1"
                                id="langage-select-english-1" value="english">
                            <label class="form-check-label" for="english-1">
                                英語音名
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="langage-select-1"
                                id="langage-select-german-1" value="german">
                            <label class="form-check-label" for="german-1">
                                ドイツ音名
                            </label>
                        </div>
                    </div>
                </fieldset>
                <button class="start-button btn btn-primary mt-3">Let's Play!</button>
            </div>
        
            <!-- 譜読みモードの詳細 -->
            <div data-detail-name="game-mode-details-2" class="card card-body d-none">
                <h3>譜読みモードとは？</h3>
                <p>
                    表示された音符に対応する鍵盤を答えるゲームです。
                </p>
                <h3>詳細設定</h3>
                <div class="text-center">
                    <i class="bi bi-wrench-adjustable-circle" style="font-size: 3rem; color: #aaa;"></i>
                    <p class="mt-3" style="font-size: 1.2rem; color: #888;">Coming soon...</p>
                    <p class="text-muted">この機能は現在開発中です。近日公開予定！</p>
                </div>
                <button class="start-button btn btn-primary mt-3" disabled>Coming soon...</button>
            </div>
        
            <!-- 聴音モードの詳細 -->
            <div data-detail-name="game-mode-details-3" class="card card-body d-none">
                <h3>聴音モードとは？</h3>
                <p>
                    再生された音に対応する鍵盤を答えるゲームです。
                </p>
                <h3>詳細設定</h3>
                <div class="text-center">
                    <i class="bi bi-wrench-adjustable-circle" style="font-size: 3rem; color: #aaa;"></i>
                    <p class="mt-3" style="font-size: 1.2rem; color: #888;">Coming soon...</p>
                    <p class="text-muted">この機能は現在開発中です。近日公開予定！</p>
                </div>
                <button class="start-button btn btn-primary mt-3" disabled>Coming soon...</button>
            </div>
        </div>
    </section>

    <!-- メインのゲームセクション -->
    <section id="game-section" class="container card card-body mt-4"><!-- d-none-->

        <h2 aria-hidden="true" class="d-none">ゲーム開始</h2>
        <section id="game-status-section" aria-label="ゲームステータス">
            <h3 aria-hidden="true" class="d-none">ゲームステータス</h3>
            <div class="d-flex justify-content-between">
                <div class="game-status-grid">
                    <span id="game-life-value" aria-live="polite" aria-label="残り回数">♥♥♥</span>
                </div>

                <div class="game-status-grid">スコア: <span id="game-score-value" aria-live="polite"
                        aria-label="現在のスコア">test</span>
                </div>

            </div>
            <div class="d-flex justify-content-between">
                <div class="game-status-grid">コンボ: <span id="game-combo-value" aria-live="polite"
                        aria-label="現在のコンボ">test</span></div>
                <div class="game-status-grid">正確性: <span id="game-accuracy-value" aria-live="polite"
                        aria-label="タイピングの正確さ">test</span></div>
                <div class="game-status-grid">速度: <span id="game-wpm-value" aria-live="polite"
                        aria-label="タイピング速度">test</span></div>
            </div>
            <div class="game-status-grid">
                <progress id="game-time-limit-bar" class="w-100" value="100" max="100" aria-label="残り時間"></progress>
            </div>
        </section>



        <section id="game-question-displays" class="text-center mt-3">
            <section id="game-mode-1-question-display">
                <div class="d-flex justify-content-center">
                    <!-- 音名と結果記号をまとめる -->
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="1"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="2"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="3"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="4"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="5"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="6"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="7"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                    <div class="note-name-container">
                        <span class="note-name-questions-spans mx-1" data-question-number="8"></span>
                        <span class="result-symbol mx-1"></span>
                    </div>
                </div>
            </section>
            <section id="game-mode-2-question-display"></section>
            <section id="game-mode-3-question-display"></section>
        </section>

        <section class="answer-keyboard-section d-flex justify-content-center mt-4">
            <div class="key white-key" data-note="60" role="button" aria-label="C natural"></div>
            <div class="key black-key" data-note="61" role="button" aria-label="C sharp or D flat"></div>
            <div class="key white-key" data-note="62" role="button" aria-label="D natural"></div>
            <div class="key black-key" data-note="63" role="button" aria-label="D sharp or E flat"></div>
            <div class="key white-key" data-note="64" role="button" aria-label="E natural"></div>
            <div class="key white-key" data-note="65" role="button" aria-label="F natural"></div>
            <div class="key black-key" data-note="66" role="button" aria-label="F sharp or G flat"></div>
            <div class="key white-key" data-note="67" role="button" aria-label="G natural"></div>
            <div class="key black-key" data-note="68" role="button" aria-label="G sharp or A flat"></div>
            <div class="key white-key" data-note="69" role="button" aria-label="A natural"></div>
            <div class="key black-key" data-note="70" role="button" aria-label="A sharp or B flat"></div>
            <div class="key white-key" data-note="71" role="button" aria-label="B natural"></div>
        </section>
    </section>

    <!-- エンディング セクション -->
    <section id="ending-section" class="container card card-body mt-4 d-none">
        <h2>ゲーム終了！</h2>
        <p>あなたのスコア：<span id="ending-score-value"></span>点</p>
        <p>クリアタイム：<span id="ending-time-value"></span>秒</p>
        <p>ハイスコア：<span id="ending-high-score"></span>点</p>

        <button id="replay-button" class="btn btn-secondary">リプレイ</button>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="script.js"></script>
    
</body>

</html>