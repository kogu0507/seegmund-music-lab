<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Meta情報、SEO、レスポンシブ対応 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Seegmund Music Lab - 音楽理論、音楽アプリ、技術ノートなどのリソースを提供します。">
    <meta name="keywords" content="音楽アプリ, 音楽理論, 技術ノート, Seegmund Music Lab">
    <meta name="robots" content="index, follow">

    <title>Seegmund Music Lab - 日本語版</title>
    <link rel="icon" href="/static/images/favicon.ico">
    <link rel="alternate" href="https://seegmund-music-lab.com/en/" hreflang="en" />
    <link rel="alternate" href="https://seegmund-music-lab.com/ja/" hreflang="ja" />

    <!-- Bootstrap CSS と Bootstrap Icons の読み込み -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

</head>


<body class="bg-light">

    <!-- メインコンテナ開始 -->
    <main class="container mt-4">
        <!-- 楽譜選択セクション -->
        <div class="mt-3">
            <label for="score-select" class="form-label">楽譜を選択:</label>
            <select id="score-select" class="form-select">
                <option value="exam">試験演奏</option>
                <option value="bar-range-1-8">通奏：1-8小節</option>
                <option value="bar-range-1-4">前半：1-4小節</option>
                <option value="bar-range-5-8" disabled>後半：5-8小節 comming soon</option>

            </select>
        </div>
        <!-- 再生と停止ボタン -->
        <div class="mt-3">
            <button type="button" id="start-btn" class="btn btn-primary" disabled>スタート</button>
            <button type="button" id="stop-btn" class="btn btn-danger" disabled>ストップ</button>
        </div>

        <!-- ステータスバー -->
        <div class="fixed-bottom bg-light p-2 border-top">
            <div class="container">
                <span id="status-text">準備を開始します...</span>
            </div>
        </div>
    </main>

    <!-- BootstrapのJavaScriptライブラリ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- メインのJavaScriptファイル（defer属性により後で実行） -->
    <script type="module" src="/static/js/base.js" defer></script>

    <!-- Tone.jsライブラリの読み込み -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/15.1.3/Tone.js"></script>

    <!-- アプリケーションの主要なロジック -->
    <!-- <script type="module" src="/dev/simpleDictation/script.js"></script> -->
    <script type="module">
        //import test from '/dev/modules/.js';
        import * as instruments from '/dev/modules/instruments.js'; // ToneJsPlayer に移動


        import DomUtils from '/dev/modules/DomUtils.js';
        import EventManager from '/dev/modules/EventManager.js';
        import DictationUIController from '/dev/modules/DictationUIController.js';

        document.addEventListener('DOMContentLoaded', () => {
            

            // getElementsByCamelCaseを使ってキャメルケースのIDで要素を取得
            const elements = DomUtils.getElementsByCamelCase(['score-select', 'start-btn', 'stop-btn']);
            //console.log(elements);  // 取得した要素をログに出力

            const eventManager = new EventManager();
            const dictationUIController = new DictationUIController(eventManager,elements);

        });

    </script>
</body>

</html>